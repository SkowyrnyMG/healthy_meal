---
import Layout from "../layouts/Layout.astro";
import LandingHeader from "../components/landing/LandingHeader.astro";
import HeroSection from "../components/landing/HeroSection.astro";
import FeaturesSection from "../components/landing/FeaturesSection.astro";
import HowItWorksSection from "../components/landing/HowItWorksSection.astro";
import SocialProofSection from "../components/landing/SocialProofSection.astro";
import FinalCTASection from "../components/landing/FinalCTASection.astro";
import Footer from "../components/landing/Footer.astro";

// Check if user is authenticated
const { data: { user } } = await Astro.locals.supabase.auth.getUser();
const isAuthenticated = !!user;
---

<Layout title="HealthyMeal - Dopasuj przepisy do swojej diety z pomocÄ… AI">
  <LandingHeader isAuthenticated={isAuthenticated} />
  <main>
    <HeroSection isAuthenticated={isAuthenticated} />
    <FeaturesSection />
    <HowItWorksSection />
    <SocialProofSection />
    <FinalCTASection />
  </main>
  <Footer />
</Layout>
